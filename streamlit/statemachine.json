{
    "name": "ai-developer",
    "system_message": "You are a very profficient polyglot software developer and can write code for the human. You can [1] create new end to end projects including frontend and backend, [2] transform existing projects such as feature additions, modernization etc. [3] fix bugs in the code, [4] conduct security scanning and prepare vunerability reports for entire projects. [5] Migrate a exisiting application code to modern application keeping the business logic unchanged",
    "initial_state": "initial",
    "states": {
        "initial": {
            "description": "This is the initial state where the AI accepts any kind of request from the human and responds accordingly.",
            "branches": [
                {
                    "next": "requirements_collection",
                    "condition": "Human is asking to create a new app, or script.",
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                },
                {
                    "next": "project_modification",
                    "condition": "Human is asking to make modifications to existing projects.",
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                },
                {
                    "next": "bug_fix",
                    "condition": "Human is asking to fix bugs or issues with existing projects.",
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                },
                {
                    "next": "git_ops",
                    "condition": "Human is asking to carry out a git repository related operation.",
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                },
                {
                    "next": "workspace_inspection",
                    "condition": "Human is asking questions related to workspace and projects inside it.",
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                },
                {
                    "next": "security_scanning_fixing",
                    "condition": "Human is asking questions related to security scanning and fixing them.",
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                },
                {
                    "next": "validate_migration_directory",
                    "condition": "Human is asking to migrate or upgrade a existing SQL/Code/application/Stored procedure",
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                }
            ]
        },
        "requirements_collection": {
            "description": "In this state, the human and the AI engages in a conversation where the AI collects requirements for the app from the human.",
            "branches": [
                {
                    "next": "initial",
                    "condition": "Human is telling something unrelated to the current task or cancel this task or go back to the beginning.",
                    "confirmation": true,
                    "clear_chat_history": "ALL"
                },
                {
                    "next": "project_scaffolding",
                    "condition": "Human approved project requirements and features by typing \"yes, proceed\" verbatim."
                }
            ]
        },
        "project_scaffolding": {
            "description": "In this state, the AI creates scaffolds the identified projects.",
            "needs_human_input": false,
            "branches": [
                {
                    "next": "project_modification",
                    "condition": "AI has completed scaffolding of the identified projects.",
                    "afterwards": true
                }
            ]
        },
        "project_modification": {
            "description": "In this state, the human and the AI engages in a conversation where the AI makes modifications to existing projects.",
            "branches": [
                {
                    "next": "initial",
                    "condition": "Human is telling something unrelated to the current task or cancel this task or go back to the beginning.",
                    "confirmation": true,
                    "clear_chat_history": "ALL"
                },
                {
                    "next": "initial",
                    "condition": "Human approved project requirements and features by typing \"yes, proceed\" verbatim.",
                    "afterwards": true,
                    "invoke": false
                }
            ]
        },
        "bug_fix": {
            "description": "In this state, the human and the AI engages in a conversation where the AI fixes issues reported by human in existing projects.",
            "branches": [
                {
                    "next": "initial",
                    "condition": "Human is telling something unrelated to the current task or cancel this task or go back to the beginning.",
                    "confirmation": true,
                    "clear_chat_history": "ALL"
                },
                {
                    "next": "initial",
                    "condition": "AI has completed fixing the issue.",
                    "afterwards": true,
                    "invoke": false
                }
            ]
        },
        "git_ops": {
            "description": "In this state, the human and the AI engages in a conversation where the AI carrys out a git repository related operation.",
            "branches": [
                {
                    "next": "initial",
                    "invoke": false
                }
            ]
        },
        "workspace_inspection": {
            "description": "In this state, the human and the AI engages in a conversation where the AI inspects the wokspace and provides answers related to exsiting projects.",
            "branches": [
                {
                    "next": "initial",
                    "afterwards": true,
                    "invoke": false,
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                }
            ]
        },
        "security_scanning_fixing": {
            "description": "In this state, the human and the AI engages in a conversation where the AI helps the human prepare security scanning reports as well as fix the reported issues.",
            "branches": [
                {
                    "next": "initial",
                    "afterwards": true,
                    "invoke": false,
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                }
            ]
        }, 
        "validate_migration_directory": {
            "description": "In this state, the human and the AI engages in a conversation where the AI ask ask the human for the files or project directory needed for migration and then list down the files.",
            "branches": [
                {
                    "next": "initial",
                    "condition": "Human is telling something unrelated to the current task or cancel this task or go back to the beginning.",
                    "confirmation": true,
                    "clear_chat_history": "ALL"
                },
                {
                    "next": "migration_scope",
                    "condition": "AI has completed validating the files selected for migration.",
                    "afterwards": true,
                    "invoke": false
                }
            ]
        },
        "migration_scope": {
            "description": "In this state, AI collects requirements for the migration from the human.",
            "branches": [
                {
                    "next": "initial",
                    "invoke": false,
                    "condition": "IF human rejects the migration or didn't select any files",
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                },
                {
                    "next": "migrate_application",
                    "condition": "Human approved migration requirements and features by typing \"yes, proceed\" verbatim.",
                    "clear_chat_history": "RETAIN_LAST_HUMAN_MESSAGE"
                }
            ]
        },
        "migrate_application": {
            "description": "In this state, AI migrates the selected application.",
            "branches": [
                {
                    "next": "initial",
                    "afterwards": true,
                    "invoke": false,
                    "condition": "AI has completed the migration",
                    "clear_chat_history": "ALL"
                }
            ]
        }
    }
}